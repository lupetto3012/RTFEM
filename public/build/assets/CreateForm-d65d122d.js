import{T as d,r as h,o as r,c as u,w as m,a as o,b as a,v as g,d as n,e as p,F as b,f,g as _}from"./app-891092f1.js";import{_ as v,L as w}from"./Layout-c15cdd79.js";const k={components:{Layout:w},data(){return{form:d({log:null,highlights:[]}),random:null,showModal:!1}},methods:{init(){},submit(){this.form.put("/",{onSuccess:e=>{this.random=e.props.random,this.showModal=!0,this.reset()},onError:()=>{alert("Error...")}})},selectHighlight(){const e=this.$refs.log,t=this.form.log.slice(e.selectionStart,e.selectionEnd);this.form.highlights.includes(t)||this.form.highlights.push(t)},copyToClipboard(){copyToClipboard(this.viewUrl)},clearHighlights(){window.getSelection().removeAllRanges(),this.form.highlights=[]},reset(){this.form.reset()}},computed:{viewUrl(){return window.location+this.random}},mounted(){this.init(),emitter.on("keypress-ctrl-s",e=>{e.preventDefault(),this.submit()})},watch:{}},y={class:"row flex-center child-borders child-shadows"},C={class:"col-6 col border-dashed"},x={class:"form-group"},H=o("label",null,"Error message",-1),M={class:"col-2 col border-dashed ml-2"},E={class:"form-group h-100"},L=o("label",{for:"paperInputs1"},"Highlights",-1),T=["value"],U={class:"row flex-center"},B={class:"col-8 col"},S={class:"modal"},V=o("label",{class:"modal-bg",for:"modal-1"},null,-1),F={class:"modal-body"},z=o("label",{class:"btn-close",for:"modal-1"},"X",-1),D=o("h4",{class:"modal-title"},"Here's your link...",-1),N=["value"];function A(e,t,I,R,l,i){const c=h("Layout");return r(),u(c,null,{default:m(()=>[o("div",y,[o("div",C,[o("div",x,[H,a(o("textarea",{ref:"log",class:"input-block no-resize p-5","onUpdate:modelValue":t[0]||(t[0]=s=>l.form.log=s),rows:"15",onSelect:t[1]||(t[1]=s=>i.selectHighlight())},null,544),[[g,l.form.log]])])]),o("div",M,[o("div",E,[L,(r(!0),n(b,null,p(l.form.highlights,s=>(r(),n("input",{class:"input-block",value:s,type:"text"},null,8,T))),256))]),l.form.highlights.length>0?(r(),n("button",{key:0,class:"btn-block btn-small btn-danger-outline",onClick:t[2]||(t[2]=s=>i.clearHighlights())},"Clear highlights")):f("",!0)])]),o("div",U,[o("div",B,[o("button",{class:"btn-block btn-secondary",onClick:t[3]||(t[3]=s=>i.submit())},"Create")])]),a(o("input",{class:"modal-state",id:"modal-1","onUpdate:modelValue":t[4]||(t[4]=s=>l.showModal=s),type:"checkbox"},null,512),[[_,l.showModal]]),o("div",S,[V,o("div",F,[z,D,o("input",{class:"input-block",value:i.viewUrl,disabled:"",type:"text",size:"50"},null,8,N),o("button",{class:"btn-block btn-primary mt-2",onClick:t[5]||(t[5]=s=>i.copyToClipboard())},"Copy to clipboard")])])]),_:1})}const q=v(k,[["render",A]]);export{q as default};
